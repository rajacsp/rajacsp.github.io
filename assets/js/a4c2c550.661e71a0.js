"use strict";(self.webpackChunkdeep_notes=self.webpackChunkdeep_notes||[]).push([[20412],{11324:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"technologies/apache/apache-iceberg","title":"Apache Iceberg","description":"Iceberg is a high-performance format for huge analytic tables. Iceberg brings the reliability and simplicity of SQL tables to big data, while making it possible for engines like Spark, Trino, Flink, Presto, and Hive to safely work with the same tables, at the same time.","source":"@site/docs/technologies/apache/apache-iceberg.md","sourceDirName":"technologies/apache","slug":"/technologies/apache/apache-iceberg","permalink":"/technologies/apache/apache-iceberg","draft":false,"unlisted":false,"editUrl":"https://github.com/rajacsp/rajacsp.github.io/tree/master/docs/technologies/apache/apache-iceberg.md","tags":[],"version":"current","lastUpdatedBy":"Deeapak Sood","lastUpdatedAt":1764882034000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Hudi","permalink":"/technologies/apache/apache-hudi"},"next":{"title":"Apache Projects","permalink":"/technologies/apache/apache-projects"}}');var s=i(474848),a=i(28453);const r={},l="Apache Iceberg",c={},o=[{value:"Features",id:"features",level:2},{value:"Apache Iceberg V3",id:"apache-iceberg-v3",level:2},{value:"Variant",id:"variant",level:2},{value:"Data Types",id:"data-types",level:3},{value:"Components of the variant data type",id:"components-of-the-variant-data-type",level:3},{value:"Variants benefits",id:"variants-benefits",level:3},{value:"Deletion Vectors",id:"deletion-vectors",level:2},{value:"Write modes in Apache Iceberg",id:"write-modes-in-apache-iceberg",level:3},{value:"Row level deletes in Iceberg",id:"row-level-deletes-in-iceberg",level:3},{value:"Row lineage",id:"row-lineage",level:2},{value:"Queries",id:"queries",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"apache-iceberg",children:"Apache Iceberg"})}),"\n",(0,s.jsx)(n.p,{children:"Iceberg is a high-performance format for huge analytic tables. Iceberg brings the reliability and simplicity of SQL tables to big data, while making it possible for engines like Spark, Trino, Flink, Presto, and Hive to safely work with the same tables, at the same time."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Expressive SQL"}),"\n",(0,s.jsx)(n.li,{children:"Full Schema Evolution"}),"\n",(0,s.jsx)(n.li,{children:"Hidden Partitioning"}),"\n",(0,s.jsx)(n.li,{children:"Time Travel and Rollback"}),"\n",(0,s.jsx)(n.li,{children:"Data Compaction"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use SQL tables for big data"}),"\n",(0,s.jsx)(n.li,{children:"Work with the same tables simultaneously using engines like Spark, Trino, Flink, Presto, Hive, Impala, StarRocks, Doris, and Pig"}),"\n",(0,s.jsx)(n.li,{children:"Capture metadata information on the state of datasets as they change over time"}),"\n",(0,s.jsx)(n.li,{children:"Partition large tables into smaller ones to speed up read and load times"}),"\n",(0,s.jsx)(n.li,{children:"Run reproducible queries on the same table snapshot"}),"\n",(0,s.jsx)(n.li,{children:"Reset tables to their previous state to easily walk back errors"}),"\n",(0,s.jsx)(n.li,{children:"Enable ACID transactions at scale, allowing concurrent writers to work in tandem"}),"\n",(0,s.jsx)(n.li,{children:"Track changes to a table over time"}),"\n",(0,s.jsx)(n.li,{children:"Query historical data and verify changes between updates"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"apache-iceberg",src:i(598938).A+"",width:"1000",height:"591"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://iceberg.apache.org",children:"https://iceberg.apache.org"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://youtu.be/x6WX_JE96bU?si=hvcH0LIdafH6ZNBU",children:"Streaming from Apache Iceberg - Building Low-Latency and Cost-Effective Data Pipelines - YouTube"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://hackernoon.com/a-data-engineers-guide-to-pyiceberg",children:"A Data Engineer's Guide to PyIceberg | HackerNoon"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/apache/iceberg-python",children:"GitHub - apache/iceberg-python: Apache PyIceberg"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.youtube.com/watch?v=TsmhRZElPvM",children:"Apache Iceberg: What It Is and Why Everyone\u2019s Talking About It. - YouTube"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://lakefs.io/blog/iceberg-versioning/",children:"What is Iceberg Versioning and How It Improves Data Reliability"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"apache-iceberg-v3",children:"Apache Iceberg V3"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Variant data type"}),"\n",(0,s.jsx)(n.li,{children:"Deletion vectors"}),"\n",(0,s.jsx)(n.li,{children:"Row lineage"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"https://www.youtube.com/watch?v=8ybMtzb6ytQ",children:["AWS re",":Invent"," 2025 - [NEW LAUNCH] What's new in Apache Iceberg v3 and beyond (OPN201) - YouTube"]})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"variant",children:"Variant"}),"\n",(0,s.jsx)(n.h3,{id:"data-types",children:"Data Types"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Primitive types -"})," Basic atomic data types that cannot be broken down into simpler types. Ex - Integer, String"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Structure types -"})," Composed of other types, fixed schema. Ex - List, Map"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Semi-structured types -"})," Flexibility to handle complex, hierarchical data structures such as JSON. Ex - Variant"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"components-of-the-variant-data-type",children:"Components of the variant data type"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Metadata -"})," Enhanced metadata for type definitions in support of pruning"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Encoding -"})," Binary encoding of semi-structured data to a files, metadata and values"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Shredding -"})," Materialization of elements in the data to hidden columns"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"variants-benefits",children:"Variants benefits"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Performance and Cost","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Columnar storage"}),"\n",(0,s.jsx)(n.li,{children:"Predicate pushdown"}),"\n",(0,s.jsx)(n.li,{children:"Statistics"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Flexible Schema","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"No predefined schema needed"}),"\n",(0,s.jsx)(n.li,{children:"Evolves automatically"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Efficient storage","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Shredded format"}),"\n",(0,s.jsx)(n.li,{children:"Compression"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Schema navigation","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Dot notation"}),"\n",(0,s.jsx)(n.li,{children:"Nested access"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"deletion-vectors",children:"Deletion Vectors"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Row level deletes"}),"\n",(0,s.jsx)(n.li,{children:"Speeds up write operations"}),"\n",(0,s.jsx)(n.li,{children:"Storage optimization"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"write-modes-in-apache-iceberg",children:"Write modes in Apache Iceberg"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Copy on write"}),"\n",(0,s.jsx)(n.li,{children:"Merge on read"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"write modes in apache iceberg",src:i(606672).A+"",width:"445",height:"343"})}),"\n",(0,s.jsx)(n.h3,{id:"row-level-deletes-in-iceberg",children:"Row level deletes in Iceberg"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"row level deletes in Iceberg",src:i(768568).A+"",width:"667",height:"347"})}),"\n",(0,s.jsx)(n.h2,{id:"row-lineage",children:"Row lineage"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Write specification","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Writes record level row lineage information"}),"\n",(0,s.jsx)(n.li,{children:"Inherits row lineage information from metadata"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Efficient reads","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"New metadata columns"}),"\n",(0,s.jsx)(n.li,{children:"Avoid full scans"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"_row_id"})," metadata column for row identity"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Streamlined operations","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"On by default"}),"\n",(0,s.jsx)(n.li,{children:"Record state information lives with the data"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"queries",children:"Queries"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT event_details:price::int as price\nFROM tbl_sales_events\nWHERE event_details:account_id::int = 12345\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},598938:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/Screenshot 2023-12-26 at 12.39.39.PM-4523bae84fe1b9d9eef640bb01d09fd6.jpg"},606672:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/Screenshot 2025-12-05 at 1.59.04 AM-d328d5a3f6c1e576aee82fe01cf89b65.png"},768568:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/Screenshot 2025-12-05 at 2.00.01 AM-c8801c9668c02de9127e6b09da5a2164.png"},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var t=i(296540);const s={},a=t.createContext(s);function r(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);